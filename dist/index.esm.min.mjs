var t=function(){return t=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},t.apply(this,arguments)};function n(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{c(r.next(t))}catch(t){a(t)}}function u(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(i,u)}c((r=r.apply(t,n||[])).next())}))}function e(t,n){var e,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=u(0),i.throw=u(1),i.return=u(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(e=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=n.call(t,a)}catch(t){u=[6,t],r=0}finally{e=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}function r(t,r){return n(this,void 0,void 0,(function(){var n,o,a,i,u,c,s,l,f;return e(this,(function(e){switch(e.label){case 0:return n=new AbortController,o=n.signal,(null===(f=null===(l=null===(s=r[0])||void 0===s?void 0:s.data)||void 0===l?void 0:l.metadata)||void 0===f?void 0:f.timeout)&&setTimeout((function(){return n.abort()}),r[0].data.metadata.timeout),[4,fetch("".concat(t.baseURL,"/bundle"),{method:"POST",headers:{"Content-Type":"application/json","gtx-api-key":t.apiKey},body:JSON.stringify(r),signal:o})];case 1:return(a=e.sent()).ok?[3,3]:(i=Error.bind,c=(u="".concat(a.status,": ")).concat,[4,a.text()]);case 2:throw new(i.apply(Error,[void 0,c.apply(u,[e.sent()])]));case 3:return[4,a.json()];case 4:return[2,e.sent()]}}))}))}function o(t,r,o,a){return n(this,void 0,void 0,(function(){var n,i,u,c,s,l;return e(this,(function(e){switch(e.label){case 0:return n=new AbortController,i=n.signal,a.timeout&&setTimeout((function(){return n.abort()}),a.timeout),[4,fetch("".concat(t.baseURL,"/translate"),{method:"POST",headers:{"Content-Type":"application/json","gtx-api-key":t.apiKey},body:JSON.stringify({content:r,targetLanguage:o,metadata:a}),signal:i})];case 1:return(u=e.sent()).ok?[3,3]:(c=Error.bind,l=(s="".concat(u.status,": ")).concat,[4,u.text()]);case 2:throw new(c.apply(Error,[void 0,l.apply(s,[e.sent()])]));case 3:return[4,u.json()];case 4:return[2,e.sent()]}}))}))}function a(t,r,o,a){return n(this,void 0,void 0,(function(){var n,i,u,c,s,l;return e(this,(function(e){switch(e.label){case 0:return n=new AbortController,i=n.signal,a.timeout&&setTimeout((function(){return n.abort()}),a.timeout),[4,fetch("".concat(t.baseURL,"/react"),{method:"POST",headers:{"Content-Type":"application/json","gtx-api-key":t.apiKey},body:JSON.stringify({children:r,targetLanguage:o,metadata:a}),signal:i})];case 1:return(u=e.sent()).ok?[3,3]:(c=Error.bind,l=(s="".concat(u.status,": ")).concat,[4,u.text()]);case 2:throw new(c.apply(Error,[void 0,l.apply(s,[e.sent()])]));case 3:return[4,u.json()];case 4:return[2,e.sent()]}}))}))}function i(t,r,o,a){return n(this,void 0,void 0,(function(){var n,i,u,c,s;return e(this,(function(e){switch(e.label){case 0:return[4,fetch("".concat(t.baseURL,"/update"),{method:"POST",headers:{"Content-Type":"application/json","gtx-api-key":t.apiKey},body:JSON.stringify({updates:r,languages:o,replace:a})})];case 1:return(n=e.sent()).ok?[3,3]:(i=Error.bind,c=(u="".concat(n.status,": ")).concat,[4,n.text()]);case 2:throw new(i.apply(Error,[void 0,c.apply(u,[e.sent()])]));case 3:return[4,n.json()];case 4:return[2,null==(s=e.sent())?void 0:s.languages]}}))}))}function u(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{var e=t.flat().map((function(t){return new Intl.Locale(t).language}));return e.every((function(t){return t===e[0]}))}catch(t){return console.error(t),!1}}"function"==typeof SuppressedError&&SuppressedError;var c="en";function s(n){var e=n.value,r=n.languages,o=void 0===r?[c]:r,a=n.options,i=void 0===a?{}:a;return new Intl.NumberFormat(o,t({numberingSystem:"latn"},i)).format(e)}function l(n){var e=n.value,r=n.languages,o=void 0===r?[c]:r,a=n.options,i=void 0===a?{}:a;return new Intl.DateTimeFormat(o,t({calendar:"gregory",numberingSystem:"latn"},i)).format(e)}function f(n){var e=n.value,r=n.languages,o=void 0===r?[c]:r,a=n.currency,i=void 0===a?"USD":a,u=n.options,s=void 0===u?{}:u;return new Intl.NumberFormat(o,t({style:"currency",currency:i,numberingSystem:"latn"},s)).format(e)}function p(n){var e=n.value,r=n.languages,o=void 0===r?[c]:r,a=n.options,i=void 0===a?{}:a;return new Intl.ListFormat(o,t({type:"conjunction",style:"long"},i)).format(e)}var v={var:"variable",num:"number",datetime:"datetime",currency:"currency"};function d(n){if("string"!=typeof n)throw new Error("splitStringToContent: ".concat(n," is not a string!"));for(var e,r=[],o=/{([^}]+)}/g,a=0;null!==(e=o.exec(n));){var i=e[0],u=e[1],c=e.index;if("^"!==n[c-1]){c>a&&r.push(n.slice(a,c));var s=u.split(",").map((function(t){return t.trim()})),l=s[0],f=s[1]?v[s[1]]:void 0,p=t({key:l},f&&{variable:f});r.push(p),a=c+i.length}else c-1>a&&r.push(n.slice(a,c-1)),r.push(i),a=c+i.length}return a<n.length&&r.push(n.slice(a)),r}var y=function(t){return"undefined"!=typeof process&&process.env&&process.env[t]||""},g=function(){function u(t){var n=void 0===t?{}:t,e=n.apiKey,r=void 0===e?"":e,o=n.defaultLanguage,a=void 0===o?c:o,i=n.projectID,u=void 0===i?"":i,s=n.baseURL,l=void 0===s?"https://prod.gtx.dev":s;this.apiKey=r||y("GT_API_KEY"),this.projectID=u||y("GT_PROJECT_ID"),this.defaultLanguage=a.toLowerCase(),this.baseURL=l}return u.prototype.translate=function(r,a,i){return n(this,void 0,void 0,(function(){return e(this,(function(n){switch(n.label){case 0:return[4,o(this,r,a,t({projectID:this.projectID,defaultLanguage:this.defaultLanguage},i))];case 1:return[2,n.sent()]}}))}))},u.prototype.translateReact=function(r,o,i){return n(this,void 0,void 0,(function(){return e(this,(function(n){switch(n.label){case 0:return[4,a(this,r,o,t({projectID:this.projectID,defaultLanguage:this.defaultLanguage},i))];case 1:return[2,n.sent()]}}))}))},u.prototype.translateBundle=function(t){return n(this,void 0,void 0,(function(){return e(this,(function(n){return[2,r(this,t)]}))}))},u.prototype.updateProjectDictionary=function(t){return n(this,arguments,void 0,(function(t,n,r){return void 0===n&&(n=[]),void 0===r&&(r=!1),e(this,(function(e){return[2,i(this,t,n,r)]}))}))},u}();function h(t){return function(t){var n;try{var e=new Intl.Locale(t);return"rtl"===(null===(n=null==e?void 0:e.textInfo)||void 0===n?void 0:n.direction)?"rtl":"ltr"}catch(t){return"ltr"}}(t)}function b(t,n){return function(t,n){void 0===n&&(n=c);try{var e=new Intl.DisplayNames([n],{type:"language"});return"string"==typeof t?e.of(t)||"":Array.isArray(t)?t.map((function(t){return e.of(t)||""})):""}catch(n){return"string"==typeof t?"":Array.isArray(t)?t.map((function(){return""})):""}}(t,n)}function m(t){return function(t){try{var n=new Intl.Locale(t),e=n.language,r=n.region,o=n.script;return new Intl.DisplayNames([c],{type:"language"}).of(e)!==e&&((!r||new Intl.DisplayNames([c],{type:"region"}).of(r)!==r)&&(!o||new Intl.DisplayNames([c],{type:"script"}).of(o)!==o))}catch(t){return!1}}(t)}function w(t){return function(t){try{return new Intl.Locale(t).toString()}catch(t){return""}}(t)}function I(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return u.apply(void 0,t)}function j(t){return s(t)}function k(t){return l(t)}function L(t){return f(t)}function S(t){return p(t)}function T(n){return r=(e=n).value,o=e.unit,a=e.languages,i=void 0===a?[c]:a,u=e.options,s=void 0===u?{}:u,new Intl.RelativeTimeFormat(i,t({style:"long",numeric:"auto"},s)).format(r,o);var e,r,o,a,i,u,s}function x(t){return d(t)}function E(n,e,r,o){return function(n,e,r,o){if(void 0===e&&(e=c),void 0===r&&(r={}),void 0===o&&(o={}),"string"==typeof n&&(n=d(n)),"string"==typeof n)return n;if(!Array.isArray(n))throw new Error("renderContentToString: content ".concat(n," is invalid"));return n.map((function(n){var a;if("string"==typeof n)return n;if("object"==typeof n){var i=r[n.key];return n.variable?"number"===n.variable?s({value:i,languages:e,options:o[n.key]}):"currency"===n.variable?f(t(t({value:i,languages:e},o[n.key]&&{options:o[n.key]}),(null===(a=o[n.key])||void 0===a?void 0:a.currency)&&{currency:o[n.key].currency})):"datetime"===n.variable?l(t({value:i,languages:e},o[n.key]&&{options:o[n.key]})):"list"===n.variable?p(t({value:i,languages:e},o[n.key]&&{options:o[n.key]})):i:i}})).join("")}(n,e,r,o)}function D(t,n){return function(t,n){if("string"==typeof t&&(t=[t]),!n)return t[0];for(var e=function(t){var e=n.find((function(n){return n===t}));if(e)return{value:e};var r=n.find((function(n){return u(n,t)}));return r?{value:r}:void 0},r=0,o=t;r<o.length;r++){var a=e(o[r]);if("object"==typeof a)return a.value}}(t,n)}export{g as default,D as determineLanguage,L as formatCurrency,k as formatDateTime,S as formatList,j as formatNum,T as formatRelativeTime,h as getLanguageDirection,b as getLanguageName,I as isSameLanguage,m as isValidLanguageCode,E as renderContentToString,x as splitStringToContent,w as standardizeLanguageCode};
//# sourceMappingURL=index.esm.min.mjs.map
