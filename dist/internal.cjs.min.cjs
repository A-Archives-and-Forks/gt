"use strict";var r=require("generaltranslation/internal"),e=require("react"),a={variable:"value",number:"n",datetime:"date",currency:"cost"},t=a,n=["singular","plural","dual","zero","one","two","few","many","other"];function i(r){return n.includes(r)}var o=Object.freeze({__proto__:null,defaultCacheURL:"https://cache.gtx.dev",defaultDictionary:{},defaultDictionaryName:"default",defaultVariableNames:t,isAcceptedPluralForm:i,libraryDefaultLocale:"en",localeCookieName:"generaltranslation-locale",pluralForms:n}),l=function(){return l=Object.assign||function(r){for(var e,a=1,t=arguments.length;a<t;a++)for(var n in e=arguments[a])Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},l.apply(this,arguments)};function u(r,e){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(a[t]=r[t]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(r);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(a[t[n]]=r[t[n]])}return a}"function"==typeof SuppressedError&&SuppressedError;var c=function(r){var e;if(!r)return"";var a=r.type,t=r.props;if(a&&"function"==typeof a){if("displayName"in a&&"string"==typeof a.displayName&&a.displayName)return a.displayName;if("name"in a&&"string"==typeof a.name&&a.name)return a.name}return a&&"string"==typeof a?a:t.href?"a":(null===(e=t["data-generaltranslation"])||void 0===e?void 0:e.id)?"C".concat(t["data-generaltranslation"].id):"function"},p=function(r){if(e.isValidElement(r)){var t=r;t.type;var n=t.props,i={type:c(r),props:{}};if(n["data-generaltranslation"]){var o=n["data-generaltranslation"],u=l({},o),p=o.transformation;if("variable"===p){var f=n.name||a[null==o?void 0:o.variableType]||"value";return{variable:o.variableType||"variable",key:f}}if("plural"===p&&o.branches){i.type="Plural";var d={};Object.entries(o.branches).forEach((function(r){var e=r[0],a=r[1];d[e]=s(a)})),u=l(l({},u),{branches:d})}if("branch"===p&&o.branches){i.type="Branch";var v={};Object.entries(o.branches).forEach((function(r){var e=r[0],a=r[1];v[e]=s(a)})),u=l(l({},u),{branches:v})}i.props["data-generaltranslation"]=u}return n.children&&(i.props.children=s(n.children)),i}return r};function s(r){return Array.isArray(r)?r.map(p):p(r)}exports.addGTIdentifier=function r(a,t,n){void 0===n&&(n=0);var o=n;function c(a){if(e.isValidElement(a)){var n=a.props,c=function(e){var a=e.type,t=e.props,n={id:o+=1},l="function"==typeof a&&a.gtTransformation||"";if(l){var c=l.split("-");if("variable"===c[0]&&(n.variableType=(null==c?void 0:c[1])||"variable"),"plural"===c[0]){var p=Object.entries(t).reduce((function(e,a){var t=a[0],n=a[1];return i(t)&&(e[t]=r(n,t,o)),e}),{});Object.keys(p).length&&(n.branches=p)}if("branch"===c[0]){t.children,t.branch;var s=u(t,["children","branch"]),f=Object.entries(s).reduce((function(e,a){var t=a[0],n=a[1];return e[t]=r(n,t,o),e}),{});Object.keys(f).length&&(n.branches=f)}n.transformation=c[0]}return n}(a),s=l(l({},n),{"data-generaltranslation":c});return t&&(s.key=t,t=void 0),n.children&&(s.children=p(n.children)),e.cloneElement(a,s)}return a}function p(r){return Array.isArray(r)?(t=void 0,e.Children.map(r,c)):c(r)}return p(a)},exports.extractEntryMetadata=function(r){if(Array.isArray(r)){if(1===r.length)return{entry:r[0]};if(2===r.length)return{entry:r[0],metadata:r[1]}}return{entry:r}},exports.flattenDictionary=function r(a,t){void 0===t&&(t="");var n={};for(var i in a)if(a.hasOwnProperty(i)){var o=t?"".concat(t,".").concat(i):i;if("object"!=typeof a[i]||null===a[i]||Array.isArray(a[i])||e.isValidElement(a[i])){if(n.hasOwnProperty(o))throw new Error("Duplicate key found in dictionary: ".concat(o));n[o]=a[i]}else{var l=r(a[i],o);for(var u in l){if(n.hasOwnProperty(u))throw new Error("Duplicate key found in dictionary: ".concat(u));n[u]=l[u]}}}return n},exports.getDictionaryEntry=function(r,a){if(!a||"string"!=typeof a)throw new Error('Invalid dictionary id: "'.concat(a,'"'));for(var t=r,n=0,i=a.split(".");n<i.length;n++){var o=i[n];if("object"!=typeof t||Array.isArray(t)||e.isValidElement(t))throw new Error('Invalid dictionary id: "'.concat(a,'"'));t=t[o]}return t},exports.getPluralBranch=function(r,e,a){var t="",n=null;return"number"==typeof r&&!n&&a&&(t=function(r,e,a){var t=new Intl.PluralRules(e).select(r),n=Math.abs(r);if(0===n&&a.zero)return"zero";if(1===n){if(a.singular)return"singular";if(a.one)return"one"}if("one"===t&&a.singular)return"singular";if(2===n){if(a.dual)return"dual";if(a.two)return"two"}return"two"===t&&a.dual?"dual":a[t]?t:"two"===t&&a.dual?"dual":"two"===t&&a.plural?"plural":"two"===t&&a.other?"other":"few"===t&&a.plural?"plural":"few"===t&&a.other?"other":"many"===t&&a.plural?"plural":"many"===t&&a.other?"other":"other"===t&&a.plural?"plural":""}(r,e,a)),t&&!n&&(n=a[t]),n},exports.getVariableProps=function(r){var e,t=(null===(e=r["data-generaltranslation"])||void 0===e?void 0:e.variableType)||"variable";return{variableType:t,variableName:r.name||r["data-_gt-variable-name"]||a[t],variableValue:void 0!==r.value?r.value:void 0!==r["data-_gt-unformatted-value"]?r["data-_gt-unformatted-value"]:void 0!==r.children?r.children:void 0,variableOptions:r.options||r["data-_gt-variable-options"]||void 0}},exports.hashReactChildrenObjects=function(e){var a=JSON.stringify(function(r){var e=function(r){var e;if(r&&"object"==typeof r&&r.props){if(null===(e=null==r?void 0:r.props)||void 0===e?void 0:e.children){r.type;var t=u(r,["type"]);return l(l({},t),{props:l(l({},r.props),{children:a(r.props.children)})})}return r.type,t=u(r,["type"])}return r},a=function(r){return Array.isArray(r)?r.map(e):e(r)};return a(r)}(e));return r.hashString(a)},exports.isVariableObject=function(r){if(r&&"object"==typeof r&&"string"==typeof r.key){var e=Object.keys(r);if(1===e.length)return!0;if(2===e.length){var a=r;return"string"==typeof a.variable&&["variable","number","date","currency"].includes(a.variable)}}return!1},exports.primitives=o,exports.writeChildrenAsObjects=s;
//# sourceMappingURL=internal.cjs.min.cjs.map
