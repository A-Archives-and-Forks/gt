"use strict";var a=require("react"),e=require("react/jsx-runtime"),r=require("generaltranslation");require("generaltranslation/internal");var n=a.createContext(void 0);function t(e){void 0===e&&(e="useGTContext() must be used within a <GTProvider>!");var r=a.useContext(n);if(void 0===r)throw new Error(e);return r}var i=function(){return i=Object.assign||function(a){for(var e,r=1,n=arguments.length;r<n;r++)for(var t in e=arguments[r])Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t]);return a},i.apply(this,arguments)};function o(a){return a&&a.props&&a.props["data-generaltranslation"]?a.props["data-generaltranslation"]:null}"function"==typeof SuppressedError&&SuppressedError;var l={variable:"value",number:"n",datetime:"date",currency:"cost"};function s(a){var e,r=(null===(e=a["data-generaltranslation"])||void 0===e?void 0:e.variableType)||"variable";return{variableType:r,variableName:a.name||a["data-_gt-variable-name"]||l[r],variableValue:void 0!==a.value?a.value:void 0!==a["data-_gt-unformatted-value"]?a["data-_gt-unformatted-value"]:void 0!==a.children?a.children:void 0,variableOptions:a.options||a["data-_gt-variable-options"]||void 0}}function v(){return t("useLocale(): Unable to access user's locale outside of a <GTProvider>").locale}function u(){return t("useDefaultLocale(): Unable to access default locale outside of a <GTProvider>").defaultLocale}function d(a){var n=void 0===a?{name:"n"}:a,t=n.children,i=n.name,o=void 0===i?"n":i,l=n.value,s=n.options,d=void 0===s?{}:s,p=[v(),u()],c=void 0!==t?t:l;return"number"==typeof(c="string"==typeof c?parseFloat(c):c)&&(c=r.formatNum({value:c,languages:p,options:d})),e.jsx("span",{"data-_gt-variable-name":o,"data-_gt-variable-type":"number","data-_gt-variable-options":JSON.stringify(d),children:c})}function p(a){var r=a.children,n=a.name,t=a.value,i=void 0!==r?r:t;return e.jsx("span",{"data-_gt-variable-name":n,"data-_gt-variable-type":"variable",children:i})}function c(a){var n=void 0===a?{name:"cost"}:a,t=n.children,o=n.name,l=void 0===o?"cost":o,s=n.value,d=n.currency,p=void 0===d?"USD":d,c=n.options,b=void 0===c?{}:c,f=[v(),u()],m=void 0!==t&&void 0===s?t:s;return"number"==typeof(m="string"==typeof m?parseFloat(m):m)&&(m=r.formatCurrency({value:m,languages:f,currency:p,options:b})),e.jsx("span",{"data-_gt-variable-name":l,"data-_gt-variable-type":"currency","data-_gt-variable-options":i({style:"currency",currency:p},b),children:m})}function b(a){var n,t,i=void 0===a?{name:"date"}:a,o=i.children,l=i.name,s=void 0===l?"date":l,d=i.value,p=i.options,c=void 0===p?{}:p,b=[v(),u()],f=void 0!==o&&void 0===d?o:d;return"number"==typeof f||"string"==typeof f?t=new Date(f):f instanceof Date&&(t=f),void 0!==t&&(n=r.formatDateTime({value:t,languages:b,options:c}).replace(/[\u200F\u202B\u202E]/g,"")),e.jsx("span",{"data-_gt-variable-name":s,"data-_gt-variable-type":"date","data-_gt-variable-options":c,children:n})}function f(a){if(a&&"object"==typeof a&&"string"==typeof a.key){var e=Object.keys(a);if(1===e.length)return!0;if(2===e.length){var r=a;return"string"==typeof r.variable&&["variable","number","date","currency"].includes(r.variable)}}return!1}d.gtTransformation="variable-number",p.gtTransformation="variable-variable",c.gtTransformation="variable-currency",b.gtTransformation="variable-datetime";var m="generaltranslation-locale",g="en";function y(a,e,r){var n="",t=null;return"number"==typeof a&&!t&&r&&(n=function(a,e,r){var n=new Intl.PluralRules(e).select(a),t=Math.abs(a);if(0===t&&r.zero)return"zero";if(1===t){if(r.singular)return"singular";if(r.one)return"one"}if("one"===n&&r.singular)return"singular";if(2===t){if(r.dual)return"dual";if(r.two)return"two"}return"two"===n&&r.dual?"dual":r[n]?n:"two"===n&&r.dual?"dual":"two"===n&&r.plural?"plural":"two"===n&&r.other?"other":"few"===n&&r.plural?"plural":"few"===n&&r.other?"other":"many"===n&&r.plural?"plural":"many"===n&&r.other?"other":"other"===n&&r.plural?"plural":""}(a,e,r)),n&&!t&&(t=r[n]),t}function h(a){var r=a.variableType,n=a.variableName,t=a.variableValue,i=a.variableOptions;return"number"===r?e.jsx(d,{name:n,value:t,options:i}):"datetime"===r?e.jsx(b,{name:n,value:t,options:i}):"currency"===r?e.jsx(c,{name:n,value:t,options:i}):e.jsx(p,{name:n,value:t})}function O(e){var r,n=e.sourceElement,t=e.targetElement,o=e.variables,l=void 0===o?{}:o,s=e.variablesOptions,v=void 0===s?{}:s,u=e.locales,d=void 0===u?[g]:u,p=n.props,c=p["data-generaltranslation"],b=null==c?void 0:c.transformation;if("plural"===b){var f="number"==typeof l.n?l.n:"number"==typeof n.props.n?n.props.n:n.props["data-_gt-n"],m=y(f,d,c.branches||{})||n.props.children,h=y(f,d,t.props["data-generaltranslation"].branches||{})||t.props.children;return a.createElement("span",i(i({},p),{"data-generaltranslation":void 0,children:_({source:m,target:h,variables:l,variablesOptions:v,locales:d})}))}if("branch"===b){var O=p.name,x=p.branch,j=p.children;x=l[O=O||n.props["data-_gt-name"]||"branch"]||x||n.props["data-_gt-branch-name"];m=(c.branches||{})[x]||j,h=(t.props["data-generaltranslation"].branches||{})[x]||t.props.children;return a.createElement("span",i(i({},p),{"data-generaltranslation":void 0,children:_({source:m,target:h,variables:l,variablesOptions:v,locales:d})}))}return(null==p?void 0:p.children)&&(null===(r=t.props)||void 0===r?void 0:r.children)?a.cloneElement(n,i(i({},p),{"data-generaltranslation":void 0,children:_({source:p.children,target:t.props.children,variables:l,variablesOptions:v,locales:d})})):n}function _(r){var n=r.source,t=r.target,l=r.variables,v=void 0===l?{}:l,u=r.variablesOptions,d=void 0===u?{}:u,p=r.locales,c=void 0===p?[g]:p;if(null==t&&n)return n;if("string"==typeof t)return t;if(Array.isArray(n)&&Array.isArray(t)){var b=n.filter((function(e){if(a.isValidElement(e)){var r=o(e);if(s(e.props),"variable"!==(null==r?void 0:r.transformation))return!0;var n=s(e.props),t=n.variableName,l=n.variableValue,u=n.variableOptions;void 0===v[t]&&(v[t]=l),d[t]=i(i({},d[t]),u)}}));return t.map((function(r,n){if("string"==typeof r)return e.jsx(a.Fragment,{children:r},"string_".concat(n));if(f(r))return e.jsx(a.Fragment,{children:h({variableType:r.variable||"variable",variableName:r.key,variableValue:v[r.key],variableOptions:d[r.key]})},"var_".concat(n));var t,i=(t=r,b.find((function(a){var e,r,n=o(a);return void 0!==(null==n?void 0:n.id)&&n.id===(null===(r=null===(e=null==t?void 0:t.props)||void 0===e?void 0:e["data-generaltranslation"])||void 0===r?void 0:r.id)})));return i?e.jsx(a.Fragment,{children:O({sourceElement:i,targetElement:r,variables:v,variablesOptions:d,locales:c})},"element_".concat(n)):void 0}))}if(t&&"object"==typeof t&&!Array.isArray(t)){var m=f(t)?"variable":"element";if(a.isValidElement(n)){if("element"===m)return O({sourceElement:n,targetElement:t,variables:v,variablesOptions:d,locales:c});var y=o(n);if("variable"===(null==y?void 0:y.transformation)){var _=s(n.props),x=_.variableName,j=_.variableValue,E=_.variableOptions;void 0===v[x]&&(v[x]=j),d[x]=i(i({},d[x]),E)}}if("variable"===m){var w=t;return h({variableType:w.variable||"variable",variableName:w.key,variableValue:v[w.key],variableOptions:d[w.key]})}}return n}exports._GTContext=n,exports._renderDefaultChildren=function(e){var r=e.children,n=e.variables,t=void 0===n?{}:n,l=e.variablesOptions,v=void 0===l?{}:l,u=e.defaultLocale,d=void 0===u?g:u,p=function(e){if(a.isValidElement(e)){var r=o(e);if("variable"===(null==r?void 0:r.transformation)){var n=s(e.props),l=n.variableName,u=n.variableType,p=n.variableValue,b=n.variableOptions;return h({variableName:l,variableType:u,variableValue:p=void 0!==t[l]?t[l]:p,variableOptions:i(i({},v[l]),b)})}if("plural"===(null==r?void 0:r.transformation)){var f="number"==typeof t.n?t.n:"number"==typeof e.props.n?e.props.n:e.props["data-_gt-n"],m=r.branches||{};return a.createElement("span",i(i({},e.props),{"data-generaltranslation":void 0,children:c(y(f,[d],m)||e.props.children)}))}if("branch"===(null==r?void 0:r.transformation)){var g=e.props;g.children;var O=g.name,_=g.branch;m=function(a,e){var r={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(r[n]=a[n]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var t=0;for(n=Object.getOwnPropertySymbols(a);t<n.length;t++)e.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(a,n[t])&&(r[n[t]]=a[n[t]])}return r}(g,["children","name","branch"]);return O=O||e.props["data-_gt-name"]||"branch",_=t[O]||_||e.props["data-_gt-branch-name"],m=r.branches||{},a.createElement("span",i(i({},e.props),{"data-generaltranslation":void 0,children:c(m[_])}))}if(e.props.children)return a.cloneElement(e,i(i({},e.props),{"data-generaltranslation":void 0,children:c(e.props.children)}))}return e},c=function(e){return Array.isArray(e)?a.Children.map(e,p):p(e)};return c(r)},exports._renderTranslatedChildren=_,exports.useBrowserLocale=function(e,n,t){void 0===e&&(e=g),void 0===n&&(n=m);var i=a.useState(""),o=i[0],l=i[1];return a.useEffect((function(){var a,i=(n?function(a){void 0===a&&(a=m);for(var e=0,r=document.cookie.split("; ");e<r.length;e++){var n=r[e].split("="),t=n[0],i=n[1];if(t===a)return decodeURIComponent(i)}return null}(n):void 0)||(t?r.determineLanguage(navigator.languages,t):void 0)||(null===(a=navigator.languages)||void 0===a?void 0:a[0])||navigator.language||(null===navigator||void 0===navigator?void 0:navigator.userLanguage)||e;l(i)}),[e,t]),o};
//# sourceMappingURL=client.cjs.min.cjs.map
